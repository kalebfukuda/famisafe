<div>
  <h1 class="text-center p-3">Family Addresses</h1>
  <div>
    <div id="map" class="map-responsive" style="width: 100%;" data-controller="map"
    data-action="location:changed->map#updateLocation"
      data-map-viewtype-value="only-address"
      data-map-latitude-value="<%= current_user.contact.latitude %>"
      data-map-longitude-value="<%= current_user.contact.longitude %>"
      data-map-contacts-value='<%= (current_user.contacts.map { |c| { id: c.id, latitude: c.latitude, longitude: c.longitude, avatar_url: asset_path("icons/#{c.avatar}") } }).to_json %>'
      data-map-addresses-value='<%= (@addresses.map { |c| { id: c.id, latitude: c.latitude, longitude: c.longitude, avatar_url: asset_path("icons/#{c.avatar}") } }).to_json %>'
      data-map-userid-value='<%= current_user.contact.id %>'>
    </div>
    <div class="p-3">
      <% @addresses.each do |address|  %>
        <%= render "shared/addressCard", address: address %>
      <% end %>
    </div>
  </div>
